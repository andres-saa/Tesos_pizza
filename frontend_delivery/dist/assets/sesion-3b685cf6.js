import{u as C,p as $}from"./ProductService-31eca21a.js";import{_ as D,f as b,U as B,j as f,e as k,r as S,o as i,c as n,b as t,a as d,D as E,E as I,n as V,t as y,d as P,l as L,g as M,w as v,F as z,i as F,G as U}from"./index-357c24f6.js";import{f as N}from"./formatoPesos-2a38d2e7.js";import"./reportes-868c5829.js";const R={class:"container shadow-4 col-12 shadow-2 p-3",style:{"border-radius":"0.5rem","background-color":"white",height:"100%",position:"relative"}},G={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.2rem","z-index":"9"}},O={class:"imagen",style:{overflow:"hidden"}},q=["src"],A={class:"texto",style:{}},H={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},J={style:{display:"grid","grid-template-columns":"auto auto",width:"100%","justify-content":"space-between","align-items":"center"}},K={style:{"text-transform":"uppercase"}},Q={style:{display:"flex","justify-content":"space-between","align-items":"c"}},W={style:{display:"flex","align-items":"center",gap:"1rem"}},X={class:"text-xl"},Y={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(x){const e=x,o=C(),l=b(()=>`${B}/read-photo-product/${e.product.img_identifier}/600?update=${p.update}`),c=f(!1),r=()=>{c.value=!0},u=a=>{o.visibles.dialogEditProduct=!0,o.currentProductToEdit=a},p=k(),_=a=>{o.visibles.dialogDeleteProduct=!0,o.currentProductToDelete=a},g=async a=>{try{const s=await $.updateProductInstanceStatus(e.product.id,a);s&&console.log("Status updated:",s)}catch(s){console.error("Failed to update status:",s)}},j=b(()=>e.product.product_description.substring(0,100)+"...");return(a,s)=>{var w;const h=S("Button"),T=S("InputSwitch");return i(),n("div",R,[t("div",G,[d(h,{class:"shadow-2",onClick:s[0]||(s[0]=m=>_(e.product)),severity:"danger",style:{width:"2rem",height:"2rem",right:"0",top:"0","border-radius":"50%"},rounded:"",icon:"pi pi-times"}),d(h,{class:"shadow-2",onClick:s[1]||(s[1]=m=>u(e.product)),severity:"warning",style:{"font-weight":"bold",width:"2rem",height:"2rem","border-radius":"50%",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),t("div",O,[E(t("img",{onLoad:r,class:V([c.value?"cargado":"sin-cargar",""]),style:{width:"100%","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","object-fit":"cover","border-radius":"0.2rem"},src:l.value,alt:""},null,42,q),[[I,c.value]])]),t("div",A,[t("div",H,[t("div",J,[t("span",null,[t("b",K,y(e.product.product_name),1)]),d(h,{class:"elipsis",text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),t("span",null,y((w=j.value)==null?void 0:w.toLocaleLowerCase()),1),t("div",Q,[d(T,{modelValue:e.product.status,"onUpdate:modelValue":[s[2]||(s[2]=m=>e.product.status=m),s[3]||(s[3]=m=>g(e.product.status))]},null,8,["modelValue"]),t("div",W,[t("span",X,[t("b",null,y(P(N)(e.product.price)),1)])])])])])])}}},Z=D(Y,[["__scopeId","data-v-dc1879b2"]]),tt={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},et={class:"text-3xl text-center",style:{width:"100%","text-transform":"capitalize"}},st={style:{}},ot={key:0,class:"grid p-1 pb-8",style:{"max-width":"900px",margin:"auto"}},at={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8 p-0"},dt={__name:"sesion",setup(x){const e=k(),o=L(),l=f([]),c=f(!1);M(async()=>{r()});const r=async()=>{let u=o.params.category_id,p=e.site.site_id;l.value=await $.getProductsByCategorySite(u,p)};return v(()=>o.params.category_id,async()=>{r()},{deep:!0}),v(()=>e.site,async()=>{e.site&&(r(),await U())},{deep:!0}),v(()=>e.update,async()=>{r()},{deep:!0}),(u,p)=>(i(),n("div",null,[t("p",tt,[t("p",et,[t("p",st,y(P(o).params.menu_name),1)])]),c.value?(i(),n("p",at," Selecciona una sede y una categoria. ")):(i(),n("div",ot,[(i(!0),n(z,null,F(l.value,(_,g)=>(i(),n("div",{key:_.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[d(Z,{style:{width:"100%"},id:`tarjeta-${g}`,product:_},null,8,["id","product"])]))),128))]))]))}};export{dt as default};
