import{u as k,p as S}from"./ProductService-1d73d22c.js";import{_ as P,j as v,f as j,r as b,o as n,c,b as t,a as d,D as T,E as C,n as D,d as f,U as B,t as m,e as E,l as I,g as V,w as h,F as L,i as M,G as z}from"./index-0c0fb4fd.js";import{f as F}from"./formatoPesos-2a38d2e7.js";import"./reportes-1fa1c19c.js";const U={class:"container shadow-4 col-12 shadow-2 p-3",style:{"border-radius":"0.5rem","background-color":"white",height:"100%",position:"relative"}},N={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.2rem","z-index":"9"}},R={class:"imagen",style:{overflow:"hidden"}},G=["src"],O={class:"texto",style:{}},q={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},A={style:{display:"grid","grid-template-columns":"auto auto",width:"100%","justify-content":"space-between","align-items":"center"}},H={style:{"text-transform":"uppercase"}},J={style:{display:"flex","justify-content":"space-between","align-items":"c"}},K={style:{display:"flex","align-items":"center",gap:"1rem"}},Q={class:"text-xl"},W={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(x){const e=x,a=k(),r=v(!1),y=()=>{r.value=!0},i=o=>{a.visibles.dialogEditProduct=!0,a.currentProductToEdit=o},l=o=>{a.visibles.dialogDeleteProduct=!0,a.currentProductToDelete=o},u=async o=>{try{const s=await S.updateProductInstanceStatus(e.product.id,o);s&&console.log("Status updated:",s)}catch(s){console.error("Failed to update status:",s)}},p=j(()=>e.product.product_description.substring(0,100)+"...");return(o,s)=>{var w;const g=b("Button"),$=b("InputSwitch");return n(),c("div",U,[t("div",N,[d(g,{class:"shadow-2",onClick:s[0]||(s[0]=_=>l(e.product)),severity:"danger",style:{width:"2rem",height:"2rem",right:"0",top:"0","border-radius":"50%"},rounded:"",icon:"pi pi-times"}),d(g,{class:"shadow-2",onClick:s[1]||(s[1]=_=>i(e.product)),severity:"warning",style:{"font-weight":"bold",width:"2rem",height:"2rem","border-radius":"50%",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),t("div",R,[T(t("img",{onLoad:y,class:D([r.value?"cargado":"sin-cargar",""]),style:{width:"100%","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","object-fit":"cover","border-radius":"0.2rem"},src:`${f(B)}/read-photo-product/${e.product.img_identifier}/600`,alt:""},null,42,G),[[C,r.value]])]),t("div",O,[t("div",q,[t("div",A,[t("span",null,[t("b",H,m(e.product.product_name),1)]),d(g,{class:"elipsis",text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),t("span",null,m((w=p.value)==null?void 0:w.toLocaleLowerCase()),1),t("div",J,[d($,{modelValue:e.product.status,"onUpdate:modelValue":[s[2]||(s[2]=_=>e.product.status=_),s[3]||(s[3]=_=>u(e.product.status))]},null,8,["modelValue"]),t("div",K,[t("span",Q,[t("b",null,m(f(F)(e.product.price)),1)])])])])])])}}},X=P(W,[["__scopeId","data-v-e126c784"]]),Y={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},Z={class:"text-3xl text-center",style:{width:"100%","text-transform":"capitalize"}},tt={style:{}},et={key:0,class:"grid p-1 pb-8",style:{"max-width":"900px",margin:"auto"}},st={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8 p-0"},nt={__name:"sesion",setup(x){const e=E(),a=I(),r=v([]),y=v(!1);V(async()=>{i()});const i=async()=>{let l=a.params.category_id,u=e.site.site_id;r.value=await S.getProductsByCategorySite(l,u)};return h(()=>a.params.category_id,async()=>{i()},{deep:!0}),h(()=>e.site,async()=>{e.site&&(i(),await z())},{deep:!0}),h(()=>e.update,async()=>{i()},{deep:!0}),(l,u)=>(n(),c("div",null,[t("p",Y,[t("p",Z,[t("p",tt,m(f(a).params.menu_name),1)])]),y.value?(n(),c("p",st," Selecciona una sede y una categoria. ")):(n(),c("div",et,[(n(!0),c(L,null,M(r.value,(p,o)=>(n(),c("div",{key:p.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[d(X,{style:{width:"100%"},id:`tarjeta-${o}`,product:p},null,8,["id","product"])]))),128))]))]))}};export{nt as default};
